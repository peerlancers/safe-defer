var safeDefer={srcDeferAttribute:"data-safe-defer-src",styleDeferAttribute:"data-safe-defer-style",classDeferAttribute:"data-safe-defer-class",srcBackingAttribute:"data-safe-deferred-src",imagePlaceholder:"data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",debugMode:!1,deferAll:function(){safeDefer.deferSources(),safeDefer.deferClasses(),safeDefer.deferStyles()},deferSources:function(){for(var e="*["+safeDefer.srcDeferAttribute+"]",r=document.querySelectorAll(e),t=0;t<r.length;t++){var f=r[t],s=f.getAttribute("src");safeDefer.debugMode&&console.log("Deferring Source: "+s),!f.complete&&(f.setAttribute(safeDefer.srcBackingAttribute,s),f.setAttribute("src",safeDefer.imagePlaceholder)),f.removeAttribute(safeDefer.srcDeferAttribute)}},deferClasses:function(){for(var e="*["+safeDefer.classDeferAttribute+"]",r=document.querySelectorAll(e),t=0;t<r.length;t++){var f=r[t];f.getAttribute(safeDefer.classDeferAttribute).split(" ").forEach(function(e){safeDefer.debugMode&&console.log("Deferring Class: "+e),f.classList.remove(e)})}},deferStyles:function(){for(var e="*["+safeDefer.styleDeferAttribute+"]",r=document.querySelectorAll(e),t=0;t<r.length;t++){var f=r[t],s=f.getAttribute("style");safeDefer.debugMode&&console.log("Deferring Style: "+s),f.setAttribute(safeDefer.styleDeferAttribute,s),f.setAttribute("style","")}},loadAllDeferred:function(){safeDefer.loadDeferredClasses(),safeDefer.loadDeferredSources(),safeDefer.loadDeferredStyles()},loadDeferredSources:function(){for(var e="*["+safeDefer.srcBackingAttribute+"]",r=document.querySelectorAll(e),t=0;t<r.length;t++){var f=r[t],s=f.getAttribute(safeDefer.srcBackingAttribute);safeDefer.debugMode&&console.log("Loading Source: "+s),f.setAttribute("src",s),f.removeAttribute(safeDefer.srcBackingAttribute)}},loadDeferredClasses:function(){for(var e="*["+safeDefer.classDeferAttribute+"]",r=document.querySelectorAll(e),t=0;t<r.length;t++){var f=r[t];f.getAttribute(safeDefer.classDeferAttribute).split(" ").forEach(function(e){safeDefer.debugMode&&console.log("Appending Class: "+e),f.classList.add(e)}),f.removeAttribute(safeDefer.classDeferAttribute)}},loadDeferredStyles:function(){for(var e="*["+safeDefer.styleDeferAttribute+"]",r=document.querySelectorAll(e),t=0;t<r.length;t++){var f=r[t],s=f.getAttribute(safeDefer.styleDeferAttribute);safeDefer.debugMode&&console.log("Setting Style: "+s),f.setAttribute("style",s),f.removeAttribute(safeDefer.styleDeferAttribute)}}};safeDefer.debugMode&&console.log("DOM is available!"),safeDefer.deferAll(),window.addEventListener("load",function(){safeDefer.debugMode&&console.log("Page load complete!"),safeDefer.loadAllDeferred()},!1);